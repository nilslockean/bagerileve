---
import Layout from "../../layouts/Layout.astro";
import { getEntry } from "astro:content";
import ProductDetail from "@components/ProductDetail.astro";

export const prerender = false;

const { id = "" } = Astro.params;
const entry = await getEntry("products", id);

if (!entry) {
  return Astro.rewrite("/404");
}
---

<Layout
  title={entry.data.title}
  metaDescription="Beställ dina fredagsmunkar i förväg och hämta enkelt upp vid vald tid."
>
  <ProductDetail product={entry.data} />
</Layout>
