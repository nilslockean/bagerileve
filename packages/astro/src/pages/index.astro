---
import ButtonLink from "@components/ButtonLink.astro";
import Section from "@components/Section.astro";
import OpeningHours from "@components/OpeningHours.astro";
import Layout from "../layouts/Layout.astro";
import { fetchOpeningHours } from "@lib/sanity";

const openingHours = await fetchOpeningHours();
---

<Layout title="Bageri Leve" description="Bageriet som vänder på bröddygnet">
  <Section fullwidth class="relative aspect-video flex items-center">
    <video autoplay muted playsinline loop class="w-full absolute z-10">
      <source
        src="
      https://cdn.sanity.io/files/mz20cm4o/production/9c057df538547c79bedfa2b06e6f276323deecee.mp4"
        type="video/mp4"
      />
    </video>

    <!-- Color overlay -->
    <div
      class="absolute hidden lg:block inset-0 bg-blue-950 opacity-50 z-20 aspect-video w-full"
    >
    </div>

    <div
      class="z-30 hidden lg:flex flex-col items-start gap-4 p-6 w-full max-w-screen-2xl mx-auto text-orange-50"
    >
      <h1>En nybakad upplevelse mitt i Malmö</h1>
      <p class="text-lg max-w-prose xl:text-xl mb-0">
        Surdegsbröd ur ugnen på eftermiddagen och nästan allt är veganskt.
      </p>
      <ButtonLink href="/bestall" variant="primary"
        >Beställ fredagsmunk</ButtonLink
      >
    </div>
  </Section>
  <Section class="lg:hidden">
    <h1>En nybakad upplevelse mitt i Malmö</h1>
    <p class="text-lg">
      Surdegsbröd ur ugnen på eftermiddagen och nästan allt är veganskt.
    </p>
    <ButtonLink href="/boka" variant="primary">Beställ fredagsmunk</ButtonLink>
  </Section>

  <Section>
    <h2>Öppettider</h2>
    <OpeningHours data={openingHours} class="max-w-xl" />
    <ButtonLink href="/kontakt">Hitta hit</ButtonLink>
  </Section>

  <Section
    hx-get="/partials/events?scope=upcoming"
    hx-trigger="load"
    class="empty:hidden flex flex-1 gap-4 flex-wrap"
  >
    Hämtar kommande kurser...
  </Section>
</Layout>
